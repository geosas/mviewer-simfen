<style type="text/css">
    .tips {
        border: 1px solid black;
        text-align: center;
        vertical-align: middle;
        font-size: 18px;
    }

    .tips-number-cell {
        width: 51px;
    }

    .tips-number {
        font-size: 35px;
    }

    .circle {
        width: 175px;
        height: 175px;
        border-radius: 50%;
        transform: rotate(-45deg);
        text-align: center;
        display: inline-block;
        margin-left: 20px;
        margin-top: 30px;
        border-top-right-radius: 0%;
        /*border: 5px solid #2E5367;*/
        position: relative;
    }

    .water-drop-text {
        width: 175px;
        height: 175px;
        font-size: 16px !important;
        color: white !important;
        transform: rotate(45deg);
        text-align: center !important;
        vertical-align: middle !important;
        position: relative;
        display: inline-block;
    }

    .number-step {
        font-size: 40px !important;
    }

</style>

<!-- <script type="text/javascript">
    // cree les boutons de changement de langue
    $(".modal-header").append("\
    <button class='translate' id='en'>&#x1F1EC;&#x1F1E7;</button>\
    <button class='translate' id='fr'>&#x1F1EB;&#x1F1F7;</button>");

    // script pour gerer la double langue de l'interface
    var arrLang = {};
    $.getJSON("/apps/simfen-dev/translate.json", function(data){
        arrLang = data;
    });
    

    $(function(){
        $(".translate").click(function(){
            var lang = $(this).attr("id");
            $(".lang").each(function(index, element){
                $(this).text(arrLang[lang][$(this).attr("key")]);
            });
        });
    });
</script> -->

<ul class="nav nav-tabs" role="tablist">
    <li role="presentation" class="active"><a href="#h_simfen" aria-controls="profile" role="tab" data-toggle="tab" class="lang" key="accueil">Accueil</a></li>
    <li role="presentation"><a href="#h_aide" aria-controls="messages" role="tab" data-toggle="tab" class="lang" key="aides">Aides</a></li>
    <li role="presentation"><a href="#h_reference" aria-controls="profile" role="tab" data-toggle="tab" class="lang" key="references">Références</a></li>
    <li role="presentation"><a href="#h_credits" aria-controls="settings" role="tab" data-toggle="tab" class="lang" key="credits">Crédits</a></li>
</ul>

<!-- Tab panes -->


<div class="tab-content">
    
    <div role="tabpanel" class="tab-pane active" id="h_simfen">

        <h4 class="lang" key="bienvenue">Bienvenue sur le portail cartographique du projet SIMFEN</h4>

        <p class="lang" key="intro">Cette interface a pour objectif de mettre à disposition un Service Interopérable de Modélisation des Flux d'Eau et de Nitrate dans les bassins versants de Bretagne (SIMFEN). Plus précisément, ce service permet de simuler des débits en tout point d'intérêt du réseau hydrographique à partir des débits mesurés sur le territoire, dont voici les étapes de fonctionnement :</p>

        <p align="center" style="font-size: 18px" class="lang" key="introFonctionnement">Fonctionnement de l'outil 'Simulation du débit' : </p>

        <div align="center" style="padding-top: 20px;">
            <div class="circle" style="background: linear-gradient(+45deg, #007acc, #007acc 33%, #808080 33%, #808080);">
                <p class="water-drop-text">
                    <font class="number-step">&#10112;</font>
                    <br><span class="lang" key="introFonctionnement1">Indiquez la période de simulation</span></p>
            </div>
            <div class="circle" style="background: linear-gradient(+45deg, #007acc, #007acc 64%, #808080 64%, #808080);">
                <p class="water-drop-text">
                    <font class="number-step">&#10113;</font>
                    <br><span class="lang" key="introFonctionnement21">Utilisez le bouton </span><span class="glyphicon glyphicon-flag"></span><span class="lang" key="introFonctionnement22"> pour localiser sur la carte le point d'intérêt (marqueur rouge)</span></p>
            </div>
            <div class="circle" style="background: #007acc;">
                <p class="water-drop-text">
                    <font class="number-step">&#10114;</font>
                    <br><span class="lang" key="introFonctionnement3">Lancez la simulation avec </span><span class="glyphicon glyphicon-play-circle"></span></p>
            </div>
            
            <!--<div class="progress" style="margin-bottom: 0px !important;text-align: center; width: 700px; background-color: #808080;">
                <div class="progress-bar progress-bar-striped active" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" role="progressbar" style="background-color: #007ACC; width:40%;">
                <p style="text-align: center;width: 700px;color: white;">VOICI LE TEXTE QUIL FAIT LIRE POUSE SAVOIR OU EN EST LE TRAITEMENT</p></div>
            </div>-->
            
            <!--<div class="water-drop" style="border-top-right-radius: 0%;">
                <p class="water-drop-text" style="padding-top: 40px; padding-right: 10px;">Visualisez et téléchargez dans le panneau "Résultat" le flux d'eau simulé</p>
            </div>-->
        </div>
    </div>

    <div role="tabpanel" class="tab-pane" id="h_aide">
        <h4 class="lang" key="panelOutil1">Simulation du débit :</h4>
        <p>
            <span class="lang" key="panelOutil1Para1">
                Ce service permet de simuler le débit en tout point du réseau hydrographique breton à partir de mesures de débit. Ces mesures peuvent être
                obtenues à partir d'un service web, comme celui de
            </span>
                <a href="https://geobretagne.fr/m/?layers=dreal_b%3Ahydrometrie_qmj&title=Bretagne%20-%20hydrom%C3%A9trie">GéoBretagne</a>.
            <span class="lang" key="panelOutil1Para2">
                Le modèle hydrologique employé provient des travaux de thèse d'
            </span>
            <a href="http://www.theses.fr/2013NSARD072">
                Alban de Lavenne.
            </a>
        </p>

        <p class="lang" key="panelOutil1Para4">Ce service utilise 3 paramètres à renseigner impérativement : </p>
        <ul>
        	<li class="lang" key="panelOutil1Para5">Date de début de la simulation</li>
            <li class="lang" key="panelOutil1Para6">Date de fin de la simulation</li>
            <li class="lang" key="panelOutil1Para7">Localisation de la station à simuler (<span class="glyphicon glyphicon-flag"></span>)</li>
        </ul>
        <p><span class="lang" key="panelOutil1Para8">Pour les utilisateurs ayant une connaissance avancée du milieu où va être simulé le débit,
             il est possible d'influer sur le fonctionnement du modèle par rapport aux paramètres déterminés par défaut.
             Pour le moment, voici les paramètres pouvant être modifiés </span> <span class="glyphicon glyphicon-wrench"></span> : </p>
        <ul>
            <li>localiser manuellement le point où simuler le débit à partir de sa coordonnée X,Y en Lambert 93 (EPSG:2154).
                <b>Remarque : Veuillez respecter la syntaxe indiquée.</b></li>
            <!-- <li>choisir manuellement les stations à employer en utilisant <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                pour les faire apparaître et <span class="glyphicon glyphicon-unchecked" aria-hidden="true"></span> pour dessiner un polygon afin de les selectionner.
            <b>Remarque : Il est possible de selectionner 5 stations au plus.</b></li> -->
            <li>modifier le pas de temps des données simulées. <b>Remarque : un pas de temps horaire augmente considérablement le temps de traitement,
                qu'importe la taille du bassin cible. Une simulation horaire sur 1 an (8760 lignes) prend 2 minutes 20 en moyenne. Donc pour 10 ans, environ 23 minutes.</b>
            </li>
        </ul>
        <p> Le process est exécuté avec le bouton <span class="glyphicon glyphicon-play-circle"></span> ouvrant alors le panneau de résultat pouvant être ouvert et fermé avec le bouton <span class="glyphicon glyphicon-stats"></span>. Ce panneau permet de suivre la progression du traitement et télécharger le résultat au format CSV et visualiser celui-ci. Il est également possible de visualiser les débits mesurés qui ont été employés pour cette simulation en cliquant sur le bouton à gauche du graphique. <b>Remarque : il est important de comparer le débit par rapport à la surface du bassin. Il est préférable de comparer la présence des évenements entre les débits mesurés et débit simulé.</b></p>
        <p>Les bassins sources employés par la simulation sont affichés sur la carte. Pour chaque bassin, sa station de mesure, sa surface (en km2) et son importance dans la simulation (weight) sont indiqués.</p>
        <p><b>REMARQUE : un seul service peut être exécuté à la fois.</b></p>
    </div>

    <div role="tabpanel" class="tab-pane" id="h_reference">
        <h4>Publications </h4>
        <p>A. de Lavenne. <i>Modélisation hydrologique à base géomorphologique de bassins versants non jaugés par régionalisation et transposition d'hydrogramme</i>. PhD thesis, 2013. <a href="http://www.theses.fr/2013NSARD072">URL</a>. Sciences de l'environnement. Rennes, Agrocampus-Ouest.</p>
        <h4>Autres</h4>
        <p><a href="http://www.opengeospatial.org/standards/wps">Web Processing Service</a></p>
    </div>
    <div role="tabpanel" class="tab-pane" id="h_credits">
        <h4 class="lang" key="panelCredits">Crédits </h4>
        <p class="lang" key="panelCredits1">Ce projet a été financé par le Conseil Régional de Bretagne, l'Agence de l'eau Loire-Bretagne et l'Agrocampus-Ouest.</p>
        <p><a href="http://mviewerdoc.readthedocs.io/fr/latest/" target="_blank"><span class="lang" key="panelCredits2">Lien vers la documentation du Mviewer</span></a></p>
        <p class="lang" key="panelCredits3">Les données sont issues d'une simulation présentant une certitude non quantifiable. En conséquence, les utilisateurs utilisent les données sous leur responsabilité pleine et entière, sans recours possible contre le fournisseur dont la responsabilité ne saurait être engagée du fait d’un dommage résultant directement ou indirectement de l’utilisation de ces données.</p>
    </div>
</div>
